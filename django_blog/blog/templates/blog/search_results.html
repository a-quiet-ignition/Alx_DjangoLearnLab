{% extends 'blog/base.html' %}

{% block title %}Search Results{% endblock %}

{% block content %}
  <h1>Search Results for "{{ query }}"</h1>
  
  {% if posts %}
    <p>Found {{ posts|length }} result(s)</p>
    
    {% for post in posts %}
      <article class="post">
        <h2><a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a></h2>
        <p class="meta">By {{ post.author }} on {{ post.published_date|date:"M d, Y" }}</p>
        <p>{{ post.content|truncatewords:50 }}</p>
        
        {% if post.tags.all %}
          <p class="tags">
            Tags: 
            {% for tag in post.tags.all %}
              <span class="tag">{{ tag.name }}</span>
            {% endfor %}
          </p>
        {% endif %}
      </article>
    {% endfor %}
    
  {% else %}
    <p>No posts found matching "{{ query }}". Try different keywords!</p>
  {% endif %}
  
  <a href="{% url 'post_list' %}">‚Üê Back to all posts</a>
{% endblock %}